<!DOCTYPE html>
<html lang="en">

<head>
    {{>head}}

<body>
    <!-- ==================Navigation Started================================== -->
    {{>navbar}}
    <!-- ==========================Navigatioin Ended================================ -->

    <div class="container-fluid">

        <div class="row">
            <div class="col-md-10 col-11 mx-auto">

                <div class="row mt-5 gx-3 ">
                    <p class="col-8 col-md-5 alert alert-light border border-danger shadow mx-auto text-center text-danger transi d-none"
                        role="alert" id="alertWarning">
                        <strong>Add something to cart before checkout!!</strong>
                        <a id="btnok" class="btn btn-success mx-3 text-white" herf="">Shop Here</a>
                    </p>

                    <!-- left side div -->
                    <h5 class="py-1    curve text-secondary w-75" id="inCartCounter"></h5>
                    <div class="col-md-12 col-lg-8 col-11 mx-auto main_cart mb-lg-0 mb-5 " id="main_cart_container">

                        {{!-- <div class="card p-4">
                            <div class="row">
                                <!-- cart images div -->
                                <div
                                    class="col-md-5 col-11 mx-auto bg-light d-flex justify-content-center align-items-center shadow product_img">
                                    <img src="images/img2.jpg" class="img-fluid" alt="cart img">
                                </div>
                                <!-- cart product details -->
                                <div class="col-md-7 col-11 mx-auto px-4 mt-2">
                                    <div class="row">
                                        <!-- product name  -->
                                        <div class="col-md-6 col-11 card-title">
                                            <h1 class="mb-4 product_name">Blue Zara Shirt</h1>
                                            <p class="mb-2">SHIRT - BLUE</p>
                                            <p class="mb-2">COLOR: BLUE</p>
                                            <p class="mb-3">SIZE: M</p>
                                        </div>
                                        <!-- quantity inc dec -->
                                        <div class="col-md-6 col-11">
                                            <ul class="pagination justify-content-end set_quantity py-2">
                                                <li class="page-item">
                                                    <button class="page-link "
                                                        onclick="decreaseNumber('textbox','itemval')">
                                                        <i class="fas fa-minus"></i> </button>
                                                </li>
                                                <li class="page-item"><input type="text" name="" class="page-link"
                                                        value="0" id="textbox">
                                                </li>
                                                <li class="page-item">
                                                    <button class="page-link"
                                                        onclick="increaseNumber('textbox','itemval')"> <i
                                                            class="fas fa-plus"></i></button>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                    <!-- //remover move and price -->
                                    <div class="row">
                                        <div class="col-8 d-flex justify-content-between remove_wish">
                                            <p><i class="fas fa-trash-alt"></i> REMOVE ITEM</p>

                                        </div>
                                        <div class="col-4 d-flex justify-content-end price_money">
                                            <h3>₹ <span id="itemval">0.00 </span></h3>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <hr />
                        <!-- 2nd cart product -->
                        <div class="card p-4">
                            <div class="row">
                                <!-- cart images div -->
                                <div
                                    class="col-md-5 col-11 mx-auto bg-light d-flex justify-content-center align-items-center shadow product_img">
                                    <img src="images/img3.jpg" class="img-fluid" alt="cart img">
                                </div>




                                <!-- cart product details -->
                                <div class="col-md-7 col-11 mx-auto px-4 mt-2">
                                    <div class="row">
                                        <!-- product name  -->
                                        <div class="col-md-6 col-11 card-title">
                                            <h1 class="mb-4 product_name">Green Zara Shirt</h1>
                                            <p class="mb-2">SHIRT - Green</p>
                                            <p class="mb-2">COLOR: Green</p>
                                            <p class="mb-3">SIZE: M</p>
                                        </div>
                                        <!-- quantity inc dec -->
                                        <div class="col-md-6 col-11">
                                            <ul class="pagination justify-content-end set_quantity py-2 ">
                                                <li class="page-item">
                                                    <button class="page-link "
                                                        onclick="decreaseNumber('textbox1','itemval1')"> <i
                                                            class="fas fa-minus"></i> </button>
                                                </li>
                                                <li class="page-item"><input type="text" name="" class="page-link"
                                                        value="0" id="textbox1">
                                                </li>
                                                <li class="page-item">
                                                    <button class="page-link"
                                                        onclick="increaseNumber('textbox1','itemval1')"> <i
                                                            class="fas fa-plus"></i></button>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                    <!-- //remover move and price -->
                                    <div class="row">
                                        <div class="col-8 d-flex justify-content-between remove_wish">
                                            <p><i class="fas fa-trash-alt"></i> REMOVE ITEM</p>

                                        </div>
                                        <div class="col-4 d-flex justify-content-end price_money">
                                            <h3>₹ <span id="itemval1">0.00 </span> </h3>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div> --}}
                    </div>
                    <!-- right side div -->
                    <div class="col-md-12 col-lg-4 col-11 mx-auto mt-lg-0 mt-md-5">
                        <div class="right_side p-3 shadow bg-white">
                            <h2 class="product_name mb-5 text-secondary">The Total Amount Of</h2>
                            <div class="price_indiv d-flex justify-content-between">
                                <p>Product amount</p>
                                <p>₹ <span id="product_total_amt">0.00</span></p>
                            </div>
                            <div class="price_indiv d-flex justify-content-between" id="shipChargeCondi">
                                <p>Shipping Charge</p>
                                <p>₹ <span id="shipping_charge">100.0</span></p>
                            </div>
                            <hr />

                            <div class=" hide d-flex d-none justify-content-between text-secondary " id="discountLabel">
                                <p>Discount </p>
                                <p>₹ <span id="total_cart_amt_discount">0.00</span></p>
                            </div>
                            <div class="total-amt d-flex justify-content-between  ">
                                <p>Net Payable</p>
                                <p>₹ <span id="total_cart_amt">0.00</span></p>
                            </div>
                            <a href="" id="checkOutBtn"><button
                                    class="btn btn-primary text-uppercase">Checkout</button></a>
                        </div>
                        <!-- discount code part -->
                        <div class="discount_code mt-3 shadow">
                            <div class="card">
                                <div class="card-body">
                                    <a class="d-flex justify-content-between" data-bs-toggle="collapse"
                                        href="#collapseExample" aria-expanded="false" aria-controls="collapseExample">
                                        Add a discount code (optional)
                                        <span><i class="fas fa-chevron-down pt-1"></i></span>
                                    </a>
                                    <div class="collapse" id="collapseExample">
                                        <div class="mt-3">
                                            <input type="text" name="" id="discount_code1"
                                                class="form-control font-weight-bold"
                                                placeholder="Enter the discount code">
                                            <small id="error_trw" class="mt-3"></small>
                                            <div class="mt-3 my-2 p-1 text-center shadow" onclick="discount_code()">
                                                MANGO CELEBRATION OFFER<p class="mb-0 " id="discountCode1">AKMCO25F</p>
                                            </div>
                                        </div>
                                        <button class="btn btn-primary btn-sm mt-3"
                                            onclick="apply_code()">Apply</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- discount code ends -->
                        <div class="mt-3 shadow p-3 bg-white">
                            <div class="pt-4 text-center">
                                <h5 class="mb-4">Expected delivery date</h5>
                                <p class="text-danger"><strong>Delivery will be start 25th June onwards (Depends on the
                                        climatic conditions)</strong></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    {{>footer}}
    <script src="/populateCartItem.js"></script>
    {{>cdnscript}}
    {{>cartjs}}
    <script>
        document.getElementById("checkOutBtn").addEventListener('click', function (e) {
            //e.preventDefault()
            let alertWarning = document.getElementById("alertWarning");
            let btnok = document.getElementById("btnok");
            let url = window.location.href;
            let cartObject = localStorage.getItem("productInCarts")
            let cartCartNumber = localStorage.getItem("cartNumbers")


            if (cartObject !== null) {
                //alert("i am indside")
                if (cartCartNumber === '0' && cartObject === '{}') {
                    e.preventDefault();

                    alertWarning.classList.remove("d-none");
                    let shopurl = url.replace("/cart", "/shop")
                    console.log("shopurl", shopurl)
                    btnok.href = shopurl;
                } else {
                    //alert("something in cart")
                    let pathname = window.location.pathname;
                    console.log("pathname", pathname)
                    let newurl = url.replace("/cart", "/checkOut")
                    console.log("replaced url", newurl)
                    document.getElementById("checkOutBtn").href = newurl
                }

            } else {
                e.preventDefault();
                //alert("add something to cart")
                alertWarning.classList.remove("d-none");


                let shopurl = url.replace("/cart", "/shop")
                console.log("shopurl", shopurl);
                btnok.href = shopurl;
                // document.getElementById("checkOutBtn").href = shopurl

            }
        })
    </script>
</body>

</html>